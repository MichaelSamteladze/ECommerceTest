@model CategoriesTreeModel.PageViewModel

@section HeaderSection{
    <link href="~/Areas/Admin/Content/Css/SortableTree.css" rel="stylesheet" />
    <link href="~/Content/Plugins/63bits-bsforms/forms.css" rel="stylesheet" />
}

@if (Model.ShowAddNewButton)
{
    <div class="actions-row">
        <button class="btn btn-oval btn-default js-show-create-new-category-modal-button"><i class="fas fa-plus"></i> <span>Add</span></button>
    </div>
}
<div class="row">
    <div class="col-12">
        @Html.Partial(ViewNames.Shared.FileTreeEditor.Editor, Model.Categories)
    </div>
</div>

@section FooterSection{
    <div class="modal fade js-create-new-category-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add New Category</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col form-group">
                            <label>Category Caption</label>
                            <input type="text" class="form-control js-category-caption-textbox" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-circle btn-primary js-create-new-category-button"><i class="fas fa-save"></i></button>
                </div>

            </div>
        </div>
    </div>
    <script src="~/Content/Plugins/jQuery/Plugins/jQueryUI-1.12.1/jquery-ui.min.js"></script>
    <script src="~/Content/Plugins/jQuery/Plugins/NestedSortable/jquery.mjs.nestedSortable.js"></script>
    <script src="~/Areas/Admin/Content/Scripts/Categories/CategoriesTree.js"></script>
    <script>
    CategoriesTreeModel.UrlCreateNew = '@Model.UrlCreateNew';
    CategoriesTreeModel.UrlUpdate = '@Model.UrlUpdate';
    CategoriesTreeModel.UrlDelete = '@Model.UrlDelete';
    CategoriesTreeModel.UrlSync = '@Model.UrlSyncParentsAndSortIndexes';
    CategoriesTreeModel.TextConfirmDeleteRecord = '@Model.TextConfirmDeleteRecord';    
    </script>
}